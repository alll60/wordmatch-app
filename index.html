<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WordMatch - Words Mode</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            padding: 16px;
        }
        .container { max-width: 600px; margin: 0 auto; }
        h1 { text-align: center; font-size: 40px; margin: 20px 0 10px; font-weight: 900; }
        .subtitle { text-align: center; opacity: 0.9; margin-bottom: 30px; }
        .difficulty-grid { display: grid; gap: 16px; margin: 20px 0; }
        .diff-btn {
            padding: 24px;
            border: none;
            border-radius: 16px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
            text-align: left;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .diff-btn:active { transform: scale(0.95); }
        .beginner { background: linear-gradient(135deg, #10b981, #059669); }
        .intermediate { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .advanced { background: linear-gradient(135deg, #ef4444, #dc2626); }
        .expert { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }
        .word-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 20px 0; }
        .word-column { display: flex; flex-direction: column; gap: 12px; }
        .word-btn {
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            font-weight: bold;
            cursor: pointer;
            word-wrap: break-word;
            line-height: 1.3;
            transition: opacity 0.2s;
        }
        .word-btn:active { opacity: 0.8; }
        .blue { background: #3b82f6; color: white; }
        .purple { background: #8b5cf6; color: white; }
        .blue.selected, .purple.selected { opacity: 0.6; }
        .blue.matched { background: #93c5fd; color: #1e3a8a; opacity: 0.5; }
        .purple.matched { background: #c4b5fd; color: #5b21b6; opacity: 0.5; }
        .header {
            background: white;
            color: #1f2937;
            padding: 16px;
            border-radius: 16px;
            margin-bottom: 16px;
        }
        .stats { display: flex; gap: 8px; margin-top: 12px; }
        .stat {
            flex: 1;
            background: #f3f4f6;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-size: 11px;
        }
        .stat-value { font-size: 18px; font-weight: bold; color: #3b82f6; }
        .controls { display: flex; gap: 12px; margin-top: 16px; }
        .control-btn {
            flex: 1;
            padding: 14px;
            background: white;
            color: #1f2937;
            border: none;
            border-radius: 12px;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
        }
        .back-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            margin-bottom: 16px;
            cursor: pointer;
            font-size: 14px;
        }
        .emoji { font-size: 32px; }
        .info { font-size: 12px; opacity: 0.8; margin-top: 4px; }
        .feedback {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 24px 48px;
            border-radius: 16px;
            font-size: 24px;
            font-weight: bold;
            z-index: 1000;
            animation: fadeInOut 0.6s;
        }
        .feedback.correct { background: #10b981; color: white; }
        .feedback.wrong { background: #ef4444; color: white; }
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="app"></div>
    </div>
    <script>
const WORDS = {
    beginner: `Hello|Hola,Goodbye|Adi√≥s,Please|Por favor,Thank you|Gracias,Yes|S√≠,No|No,Excuse me|Perd√≥n,Sorry|Lo siento,Good morning|Buenos d√≠as,Good night|Buenas noches,How are you?|¬øC√≥mo est√°s?,My name is|Me llamo,Nice to meet you|Mucho gusto,See you later|Hasta luego,Welcome|Bienvenido,One|Uno,Two|Dos,Three|Tres,Four|Cuatro,Five|Cinco,Six|Seis,Seven|Siete,Eight|Ocho,Nine|Nueve,Ten|Diez,Family|Familia,Mother|Madre,Father|Padre,Sister|Hermana,Brother|Hermano,Son|Hijo,Daughter|Hija,Grandmother|Abuela,Grandfather|Abuelo,Red|Rojo,Blue|Azul,Yellow|Amarillo,Green|Verde,Black|Negro,White|Blanco,Orange|Naranja,Purple|Morado,Pink|Rosa,Brown|Marr√≥n,House|Casa,Water|Agua,Food|Comida,Friend|Amigo,School|Escuela,Book|Libro,Car|Coche,Dog|Perro,Cat|Gato,Tree|√Årbol,Sun|Sol,Moon|Luna,Star|Estrella,Head|Cabeza,Eye|Ojo,Ear|Oreja,Nose|Nariz,Mouth|Boca,Hand|Mano,Foot|Pie,Arm|Brazo,Leg|Pierna,Monday|Lunes,Tuesday|Martes,Wednesday|Mi√©rcoles,Thursday|Jueves,Friday|Viernes,Saturday|S√°bado,Sunday|Domingo,Day|D√≠a,Week|Semana,Month|Mes,Year|A√±o,Today|Hoy,Tomorrow|Ma√±ana,Yesterday|Ayer,Bread|Pan,Milk|Leche,Coffee|Caf√©,Tea|T√©,Meat|Carne,Fish|Pescado,Egg|Huevo,Apple|Manzana,Orange|Naranja,Banana|Pl√°tano,To be|Ser,To have|Tener,To do|Hacer,To go|Ir,To come|Venir,To see|Ver,To know|Saber,To want|Querer,To speak|Hablar,To eat|Comer,To drink|Beber,To live|Vivir,Happy|Feliz,Sad|Triste,Angry|Enojado,Tired|Cansado,Hungry|Hambriento,Cold|Fr√≠o,Hot|Caliente,Big|Grande,Small|Peque√±o,Good|Bueno,Bad|Malo,Beautiful|Hermoso,Ugly|Feo,Easy|F√°cil,Difficult|Dif√≠cil,Fast|R√°pido,Slow|Lento,Strong|Fuerte,Weak|D√©bil,Rich|Rico,Poor|Pobre,Happy|Contento,Sad|Triste,Bird|P√°jaro,Horse|Caballo,Cow|Vaca,Pig|Cerdo,Chicken|Pollo,Duck|Pato,Lion|Le√≥n,Tiger|Tigre,Elephant|Elefante,Monkey|Mono`.split(','),
    
    intermediate: `Important|Importante,Interesting|Interesante,Boring|Aburrido,Dangerous|Peligroso,Safe|Seguro,Comfortable|C√≥modo,Uncomfortable|Inc√≥modo,Modern|Moderno,Ancient|Antiguo,New|Nuevo,Old|Viejo,Young|Joven,Fresh|Fresco,Delicious|Delicioso,Terrible|Terrible,Wonderful|Maravilloso,Strange|Extra√±o,Normal|Normal,Special|Especial,Common|Com√∫n,Rare|Raro,Frequent|Frecuente,Occasional|Ocasional,Constant|Constante,Temporary|Temporal,Permanent|Permanente,Public|P√∫blico,Private|Privado,General|General,Specific|Espec√≠fico,Complete|Completo,Incomplete|Incompleto,Perfect|Perfecto,Imperfect|Imperfecto,Correct|Correcto,Incorrect|Incorrecto,True|Verdadero,False|Falso,Real|Real,Fake|Falso,Natural|Natural,Artificial|Artificial,Possible|Posible,Impossible|Imposible,Necessary|Necesario,Optional|Opcional,Useful|√ötil,Useless|In√∫til,Effective|Efectivo,Ineffective|Inefectivo`.split(','),
    
    advanced: `Truth|Verdad,Lie|Mentira,Justice|Justicia,Freedom|Libertad,Peace|Paz,War|Guerra,Power|Poder,Strength|Fuerza,Weakness|Debilidad,Courage|Valor,Fear|Miedo,Hope|Esperanza,Faith|Fe,Doubt|Duda,Trust|Confianza,Honesty|Honestidad,Wisdom|Sabidur√≠a,Knowledge|Conocimiento,Success|√âxito,Failure|Fracaso,Victory|Victoria,Defeat|Derrota,Progress|Progreso,Development|Desarrollo,Growth|Crecimiento,Decline|Declive,Achievement|Logro,Accomplishment|Cumplimiento,Challenge|Desaf√≠o,Opportunity|Oportunidad,Advantage|Ventaja,Disadvantage|Desventaja,Benefit|Beneficio,Risk|Riesgo,Consequence|Consecuencia,Result|Resultado,Effect|Efecto,Cause|Causa,Reason|Raz√≥n,Purpose|Prop√≥sito,Goal|Meta,Objective|Objetivo,Target|Objetivo,Strategy|Estrategia,Plan|Plan,Method|M√©todo,Technique|T√©cnica,Approach|Enfoque,Solution|Soluci√≥n,Problem|Problema`.split(','),
    
    expert: `Democracy|Democracia,Dictatorship|Dictadura,Government|Gobierno,Parliament|Parlamento,Constitution|Constituci√≥n,Legislation|Legislaci√≥n,Policy|Pol√≠tica,Economy|Econom√≠a,Finance|Finanzas,Investment|Inversi√≥n,Corporation|Corporaci√≥n,Enterprise|Empresa,Industry|Industria,Commerce|Comercio,Technology|Tecnolog√≠a,Innovation|Innovaci√≥n,Research|Investigaci√≥n,Science|Ciencia,Theory|Teor√≠a,Hypothesis|Hip√≥tesis,Experiment|Experimento,Discovery|Descubrimiento,Invention|Invenci√≥n,Philosophy|Filosof√≠a,Psychology|Psicolog√≠a,Sociology|Sociolog√≠a,Anthropology|Antropolog√≠a,Archaeology|Arqueolog√≠a,History|Historia,Geography|Geograf√≠a,Literature|Literatura,Poetry|Poes√≠a,Novel|Novela,Drama|Drama,Comedy|Comedia,Tragedy|Tragedia,Architecture|Arquitectura,Sculpture|Escultura,Painting|Pintura,Music|M√∫sica,Symphony|Sinfon√≠a,Opera|√ìpera,Ballet|Ballet,Theatre|Teatro,Cinema|Cine,Photography|Fotograf√≠a,Journalism|Periodismo,Media|Medios,Communication|Comunicaci√≥n`.split(',')
};

function parseWords(str) {
    return str.map(pair => {
        const [e, s] = pair.split('|');
        return { e, s };
    });
}

let state = {
    difficulty: '',
    score: 0,
    matched: 0,
    streak: 0,
    round: 0,
    selected: [],
    matchedIds: [],
    currentPairs: [],
    used: new Set()
};

function shuffle(arr) {
    return [...arr].sort(() => Math.random() - 0.5);
}

function showFeedback(isCorrect) {
    const feedback = document.createElement('div');
    feedback.className = `feedback ${isCorrect ? 'correct' : 'wrong'}`;
    feedback.textContent = isCorrect ? 'Perfect! ‚úì' : 'Wrong! ‚úó';
    document.body.appendChild(feedback);
    setTimeout(() => feedback.remove(), 600);
}

function startGame(diff) {
    state.difficulty = diff;
    state.score = 0;
    state.matched = 0;
    state.streak = 0;
    state.round = 0;
    state.used = new Set();
    nextRound();
}

function nextRound() {
    state.selected = [];
    state.matchedIds = [];
    state.round++;
    
    const allWords = parseWords(WORDS[state.difficulty]);
    const available = allWords.filter((_, i) => !state.used.has(i));
    
    if (available.length < 5) {
        state.used = new Set();
    }
    
    const pairs = [];
    const used = new Set(state.used);
    
    while (pairs.length < 5 && pairs.length < allWords.length) {
        const idx = Math.floor(Math.random() * allWords.length);
        if (!used.has(idx)) {
            pairs.push({ ...allWords[idx], id: pairs.length });
            used.add(idx);
        }
    }
    
    state.used = used;
    state.currentPairs = pairs;
    renderGame();
}

function renderDifficultySelect() {
    const app = document.getElementById('app');
    app.innerHTML = `
        <h1>WordMatch</h1>
        <p class="subtitle">Choose your difficulty level</p>
        <div class="difficulty-grid">
            <button class="diff-btn beginner" onclick="startGame('beginner')">
                <div>
                    <div style="font-size: 24px; font-weight: 900;">Beginner</div>
                    <div class="info">Essential words ‚Ä¢ 10 pts each</div>
                </div>
                <div class="emoji">üü¢</div>
            </button>
            <button class="diff-btn intermediate" onclick="startGame('intermediate')">
                <div>
                    <div style="font-size: 24px; font-weight: 900;">Intermediate</div>
                    <div class="info">Common words ‚Ä¢ 15 pts each</div>
                </div>
                <div class="emoji">üü°</div>
            </button>
            <button class="diff-btn advanced" onclick="startGame('advanced')">
                <div>
                    <div style="font-size: 24px; font-weight: 900;">Advanced</div>
                    <div class="info">Complex words ‚Ä¢ 20 pts each</div>
                </div>
                <div class="emoji">üî¥</div>
            </button>
            <button class="diff-btn expert" onclick="startGame('expert')">
                <div>
                    <div style="font-size: 24px; font-weight: 900;">Expert</div>
                    <div class="info">Academic words ‚Ä¢ 25 pts each</div>
                </div>
                <div class="emoji">üü£</div>
            </button>
        </div>
    `;
}

function renderGame() {
    const english = shuffle(state.currentPairs.map(p => ({...p, side: 'en'})));
    const spanish = shuffle(state.currentPairs.map(p => ({...p, side: 'es'})));
    const points = state.difficulty === 'beginner' ? 10 : state.difficulty === 'intermediate' ? 15 : state.difficulty === 'advanced' ? 20 : 25;
    
    document.getElementById('app').innerHTML = `
        <button class="back-btn" onclick="renderDifficultySelect()">‚Üê Change Difficulty</button>
        
        <div class="header">
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                <div>
                    <h2 style="margin: 0; font-size: 20px;">Word Match</h2>
                    <div style="font-size: 12px; opacity: 0.7; text-transform: capitalize;">${state.difficulty}</div>
                </div>
                <div style="text-align: right;">
                    <div style="font-size: 28px; font-weight: 900; color: #10b981;">${state.score}</div>
                    <div style="font-size: 11px; opacity: 0.7;">points</div>
                </div>
            </div>
            <div class="stats">
                <div class="stat">
                    <div class="stat-value">${state.matched}</div>
                    <div>Matched</div>
                </div>
                <div class="stat">
                    <div class="stat-value">${state.streak}</div>
                    <div>Streak</div>
                </div>
                <div class="stat">
                    <div class="stat-value">${state.round}</div>
                    <div>Round</div>
                </div>
            </div>
        </div>
        
        <div class="word-grid">
            <div class="word-column">
                ${english.map(w => `
                    <button 
                        class="word-btn blue ${state.selected.includes('en'+w.id) ? 'selected' : ''} ${state.matchedIds.includes(w.id) ? 'matched' : ''}"
                        onclick="selectWord('en${w.id}', ${w.id})"
                        ${state.matchedIds.includes(w.id) ? 'disabled' : ''}
                    >
                        ${w.e}
                    </button>
                `).join('')}
            </div>
            <div class="word-column">
                ${spanish.map(w => `
                    <button 
                        class="word-btn purple ${state.selected.includes('es'+w.id) ? 'selected' : ''} ${state.matchedIds.includes(w.id) ? 'matched' : ''}"
                        onclick="selectWord('es${w.id}', ${w.id})"
                        ${state.matchedIds.includes(w.id) ? 'disabled' : ''}
                    >
                        ${w.s}
                    </button>
                `).join('')}
            </div>
        </div>
        
        <div class="controls">
            <button class="control-btn" onclick="nextRound()">New Words</button>
            <button class="control-btn" onclick="renderDifficultySelect()">Reset</button>
        </div>
    `;
}

function selectWord(wordId, pairId) {
    if (state.selected.includes(wordId) || state.matchedIds.includes(pairId)) return;
    
    state.selected.push(wordId);
    
    // Update only the clicked button's class
    const btn = document.querySelector(`button[onclick="selectWord('${wordId}', ${pairId})"]`);
    if (btn) btn.classList.add('selected');
    
    if (state.selected.length === 2) {
        const id1 = parseInt(state.selected[0].slice(2));
        const id2 = parseInt(state.selected[1].slice(2));
        const points = state.difficulty === 'beginner' ? 10 : state.difficulty === 'intermediate' ? 15 : state.difficulty === 'advanced' ? 20 : 25;
        
        if (id1 === id2) {
            showFeedback(true);
            state.matchedIds.push(pairId);
            state.score += points;
            state.matched += 1;
            state.streak += 1;
            
            // Mark as matched
            state.selected.forEach(id => {
                const b = document.querySelectorAll(`button[onclick*="${id}"]`)[0];
                if (b) {
                    b.classList.remove('selected');
                    b.classList.add('matched');
                    b.disabled = true;
                }
            });
            
            // Update stats only
            document.querySelector('.header').outerHTML = document.querySelector('.header').outerHTML.replace(
                /Score: \d+/g, `Score: ${state.score}`
            ).replace(
                /<div class="stat-value">\d+<\/div>\s*<div>Matched<\/div>/,
                `<div class="stat-value">${state.matched}</div><div>Matched</div>`
            ).replace(
                /<div class="stat-value">(\d+)<\/div>\s*<div>Streak<\/div>/,
                `<div class="stat-value">${state.streak}</div><div>Streak</div>`
            );
            
            setTimeout(() => {
                state.selected = [];
                if (state.matchedIds.length === 5) {
                    setTimeout(nextRound, 500);
                }
            }, 600);
        } else {
            showFeedback(false);
            state.streak = 0;
            setTimeout(() => {
                state.selected.forEach(id => {
                    const b = document.querySelectorAll(`button[onclick*="${id}"]`)[0];
                    if (b) b.classList.remove('selected');
                });
                state.selected = [];
            }, 600);
        }
    }
}

renderDifficultySelect();
    </script>
</body>
</html>
